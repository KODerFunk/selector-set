<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Performance</title>

  <style>
    body {
      font: 10px sans-serif;
    }

    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }

    .line {
      fill: none;
      stroke-width: 1.5px;
    }
    .line.iteration {
      stroke: #1f77b4;
    }
    .line.selectorset {
      stroke: #ff7f0e;
    }
  </style>
</head>
<body>
  <script src="../bower_components/d3/d3.js"></script>
  <script src="../selector-set.js"></script>
  <script src="./slow-selector-set.js"></script>
  <script>
    var svg = d3.select("body").append("svg")
      .append("g")
        .attr("transform", "translate(50, 20)");

    var x = d3.scale.linear()
      .range([0, 400])
      .domain([0, 20]);
    var y = d3.scale.linear()
      .range([200, 0])
      .domain([0, 15]);

    var xAxis = d3.svg.axis().scale(x);
    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0, 200)")
        .call(xAxis);

    var yAxis = d3.svg.axis().scale(y).orient("left");
    svg.append("g")
      .attr("class", "y axis")
      .call(yAxis);

    var data = [
      {
        name: "iteration",
        values: [
          [1, 1],
          [2, 2],
          [3, 3],
          [4, 4],
          [5, 5],
          [6, 6],
          [7, 7],
          [8, 8],
          [9, 9],
          [10, 10],
          [11, 11],
          [12, 12]
        ]
      },
      {
        name: "selectorset",
        values: [
          [1, 3],
          [2, 3.5],
          [3, 4],
          [4, 4.5],
          [5, 5],
          [6, 5],
          [7, 5],
          [8, 5.5],
          [9, 5.5]
        ]
      }
    ];

    var line = d3.svg.line()
        .interpolate("basis")
        .x(function(d) { return x(d[0]); })
        .y(function(d) { return y(d[1]); });

    svg.selectAll().data(data)
      .enter().append("g")
      .append("path")
        .attr("class", function(d) { return "line " + d.name; })
        .attr("d", function(d) { return line(d.values); });
  </script>
</body>
</html>
